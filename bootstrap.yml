---
- name: Bootstrap ansible collections
  hosts: localhost
  become: yes
  tasks:
    - name: Ensure system collections directory exists
      ansible.builtin.file:
        path: /usr/share/ansible/collections
        state: directory
        owner: root
        group: root
        mode: '0755'
    - name: Install collections and roles together
      community.general.ansible_galaxy_install:
        type: both
        requirements_file: requirements.yml
        dest: /usr/share/ansible/collections
